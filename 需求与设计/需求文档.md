## 大作业需求与设计文档

2018010115 诸葛向文

2018010139 张驰

2019013282 李松泽

### 1 简介

​	本文件描述了移动软件开发课程大作业的相关需求及设计，具体目的是收集和分析相关信息和想法，详细介绍产品特性和具体需求，记录并设计对具体功能的预期使用方法，以便用户能够获知产品的需求，并指导开发人员根据需求设计编码。

### 2 综合描述

#### 2.1 产品前景

​	本项目希望建立一个校园论坛，用户可以随时随地发布自己创作的内容，收获点赞和评论，也可以搜索、阅览各类动态，使得用户可以基于自己的兴趣创作文章，音视频等形式丰富的高质量内容。

#### 2.2 用户特征

​	用户主要为清华大学的学生或者教职工，通常具有较好的软件理解能力和操作能力。

### 3 需求

​	本小节描述了该项目的需求。

#### 3.1 功能需求

​	本项目主要将分为登录/注册界面、个人主页界面、动态发布界面、动态浏览界面、动态查看界面等多个主界面，每个主界面下可跳转若干个子界面。以下将以每个主界面为单元提出功能需求。

##### 3.1.1 登录/注册

​	登录/注册界面包含用户登录、用户注册等数个子界面。

###### 3.1.1.1 基本功能

​	用户在登录/注册界面可以选择现有账户的登录或新账户的注册。

###### 3.1.1.2 登录

​	用户在用户登录子界面可以通过邮箱和自己设置的密码登录账户。

###### 3.1.1.3 注册

​	用户在用户注册子界面可通过邮箱注册账号，并可自行设置密码、用户名、头像、简介。

##### 3.1.2 个人主页

​	个人主页主界面包含关注列表、通知栏、个人信息等数个子界面。

###### 3.1.2.1 基本功能

​	用户在个人主页可以看到自己的用户名、头像、简介、关注数和被关注数，以及本人发布的所有动态。

​	用户可以在其他用户的个人主页进行关注和取关，也可以屏蔽该用户。

###### 3.1.2.2 个人信息

​	用户可以进入个人信息界面修改用户名，头像，简介，密码，修改密码需要进行邮箱验证。

###### 3.1.2.3 关注列表

​	用户可以进入关注列表子界面，在关注列表子界面中可以对其他用户进行关注和取关。

###### 3.1.2.4 通知栏

​	用户可以进入通知栏子界面，接收到来自平台的通知消息（如自己动态获得的点赞、评论，以及关注用户的动态更新）。

###### 3.1.2.5 查看动态

​	用户点击自己的动态可以进入该动态的动态查看界面。

##### 3.1.3 动态发布

​	动态发布主界面包含草稿箱等数个子界面。

###### 3.1.3.1 基本功能

​	用户可以选择包含纯文字动态、图文混合动态、音频动态、视频动态在内的多种动态类型，并可在动态中添加位置信息。

###### 3.1.3.2 草稿

​	用户在编辑过程中自动保存草稿至草稿箱，发布完成后自动从草稿箱中删除。

​	用户可以进入草稿箱子界面查看自己保存的草稿，并可选择一篇草稿进入编辑界面继续进行编辑或删除。

##### 3.1.4 动态浏览

###### 3.1.4.1 基本功能

​	用户可以在动态浏览界面查看其他用户发布的动态。

​	用户点击动态可以进入该动态的动态查看界面。

###### 3.1.4.2 分类与展示

​	用户可以选择根据时间顺序或点赞数量进行动态展示。

​	用户可以选择所有人或已关注的人进行动态展示。

​	已关注用户的动态在动态界面中会在用户名后显示“已关注”。

​	屏蔽用户的动态将不在动态界面中显示。

###### 3.1.4.3 动态功能

​	用户可以对其他用户的动态进行点赞或分享，也可以取消点赞。

​	用户可以从其他用户的动态界面或评论界面进入其他用户的个人主页。

###### 3.1.4.4 搜索

​	用户可以根据动态名称、动态内容、用户名称、动态类型等方式搜索动态内容。

##### 3.1.5 动态查看

###### 3.1.5.1 基本功能

​	用户可以在动态查看界面查看该动态的详细内容、评论。

###### 3.1.5.2 评论

​	用户可以在该页面添加评论。

​	用户可以在其他用户的动态中删除自己添加的评论。

​	用户可以在自己的动态中删除任何评论。

#### 3.2 非功能需求

##### 3.2.1 性能需求

​	启动时间：应用的启动时间应当不超过2秒；

​	编辑响应时间：编辑响应时间应当不超过1秒；

​	平均响应时间：简单功能的平均响应时间应当不超过2秒，复杂查询的平均响应时间不超过5秒；

​	事务成功率不低于99%；

##### 3.2.2 质量需求

​	可用性：用户群体应当可以在1分钟内完全掌握产品的操作和使用。

​	可扩展性：前后端文件分布明确，可以较方便地添加新功能。

​	可靠性：软件能够长时间正常运行，支持多用户登录使用。

​	易用性：要求页面美观，简洁。

​	可移植性：APP 应该被正确地签名打包，在指定版本的 Android 虚拟机及 Android智能手机上可以正常运行，不出现崩溃情况或 UI 样式错乱情况。

##### 3.2.3 安全需求

​	数据库应当对敏感数据进行加密或本地存储；

​	部分功能（如删帖、修改密码）执行前检查用户是否登录，以及是否有权限进行相关操作。

##### 3.2.4 数据的备份恢复

​	当在编辑页面退出APP时，会自动存储已编辑的内容进入草稿箱，并在下次进入编辑页面时自动载入；

​	后端数据库定时备份数据，确保数据库崩溃后可以载入之前的数据库数据。

### 4 初步设计

#### 4.1 总体设计

​	对于前端部分，在 Android 平台上进行开发，使用 Java 编程语言；对于后端部分，使用flask与mysql。

#### 4.2 通信

​	前端与后端使用OKHttp3进行数据通信。

#### 4.3 前端设计

​	预期使用 [QMUI_Android 组件库](https://github.com/Tencent/QMUI_Android) 中的组件，以统一前端风格。

​	总体使用 menu 和 Fragment 的框架，同时加载动态浏览界面和个人信息界面；对于其他主界面或子界面，新建一个 Activity 实现数据的通信与保存。

